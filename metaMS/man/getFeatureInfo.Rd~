\name{getFeatureInfo}
\alias{getFeatureInfo}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{
Subfunction GC-MS processing (annotGCfunc.R)
}
\description{
Function getFeatureInfo yields a data.frame with meta-information
on all features detected in the samples. Features are rows;
information is in the columns. The last column is always "rt"
}
\usage{
getFeatureInfo(stdDB, allMatches, sampleList)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{stdDB}{
%%     ~~Describe \code{stdDB} here~~
}
  \item{allMatches}{
%%     ~~Describe \code{annotations} here~~
}
  \item{sampleList}{
%%     ~~Describe \code{annotations} here~~
}
}
\details{
%%  ~~ If necessary, more details than the description above ~~
}
\value{
%%  ~Describe the value returned
%%  If it is a LIST, use
%%  \item{comp1 }{Description of 'comp1'}
%%  \item{comp2 }{Description of 'comp2'}
%% ...
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
%%  ~~who you are~~
}
\note{
%%  ~~further notes~~
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
##---- Should be DIRECTLY executable !! ----
##-- ==>  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (stdDB, annotations) 
{
    allAnnotations <- sort(unique(unlist(annotations$annotations)))
    allAnnotations <- c(allAnnotations[allAnnotations > 0], rev(allAnnotations[allAnnotations < 
        0]))
    fields <- unique(unlist(lapply(stdDB[allAnnotations > 0], 
        names)))
    fields <- c(fields[!(fields \%in\% c("Name", "ID", "pspectrum", 
        "rt"))], "rt")
    meta.info <- lapply(stdDB[allAnnotations[allAnnotations > 
        0]], function(x) {
        field.values <- x[fields]
        c(Name = x$Name[[1]], field.values)
    })
    meta.info <- lapply(meta.info, function(x) {
        x[sapply(x, length) == 0] <- NA
        x
    })
    meta.info.df <- apply(do.call(rbind, meta.info), 2, unlist)
    nstd <- nrow(meta.info.df)
    nunkn <- sum(allAnnotations < 0)
    if (nunkn > 0) {
        meta.info.df <- rbind(meta.info.df, meta.info.df[rep(1, 
            nunkn), ])
        row.names(meta.info.df) <- 1:nrow(meta.info.df)
        meta.info.df[(nstd + 1):nrow(meta.info.df), ] <- NA
        meta.info.df[(nstd + 1):(nstd + nunkn), "Name"] <- paste("Unknown", 
            1:nunkn)
        meta.info.df[(nstd + 1):(nstd + nunkn), "Class"] <- "Unknown"
        meta.info.df[(nstd + 1):(nstd + nunkn), "rt"] <- round(sapply(annotations$unknowns, 
            function(x) mean(x[, 3])), 3)
        meta.info.df[(nstd + 1):(nstd + nunkn), "rt.sd"] <- round(sapply(annotations$unknowns, 
            function(x) sd(x[, 3])), 4)
    }
    meta.info.df
  }
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory.
\keyword{ ~kwd1 }
\keyword{ ~kwd2 }% __ONLY ONE__ keyword per line
