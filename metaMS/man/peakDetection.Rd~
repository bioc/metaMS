\name{peakDetection}
\alias{peakDetection}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{
run XCMS peak detection
}
\description{
XCMS peak detection by using settings from the XCMSsetting-file
}
\usage{
peakDetection(files, settings, rtcut = NULL)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{files}{CDF files (including path names) that will be processed
    by xcms}
  \item{settings}{a list of settings that will be passed on to the
    xcmsSet function}
  \item{rtcut}{If non-NULL, a number indicating how much of the 
    chromatograms needs to be removed (in seconds, from the beginning)}
}
\details{
%%  ~~ If necessary, more details than the description above ~~
}
\value{An xcmsSet object.}
\author{
%%  ~~who you are~~
}
\note{
%%  ~~further notes~~
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
##---- Should be DIRECTLY executable !! ----
##-- ==>  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (path = ".", XCMSsettings, ...) 
{
    library(xcms)
    files <- list.files(path = path, pattern = "*.CDF", ignore.case = TRUE, 
        full.names = TRUE)
    s = XCMSsettings
    xset <- xcmsSet(files, snthresh = s$sthresh, max = s$max, 
        fwhm = s$fwhm, step = s$step, mzdiff = s$mzdiff, ...)
    idx <- xset@peaks[, "rt"] > 24
    xset@peaks <- xset@peaks[idx, ]
    cat(as.character(paste(c("\n\nminfrac: ", as.character(s$minfrac)), 
        collapse = "")))
    cat(as.character(paste(c("\nminsamp: ", as.character(s$minsamp)), 
        collapse = "")))
    cat("\n\n")
    return(xset)
  }
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory.
\keyword{ ~kwd1 }
\keyword{ ~kwd2 }% __ONLY ONE__ keyword per line
